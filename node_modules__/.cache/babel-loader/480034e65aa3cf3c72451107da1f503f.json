{"ast":null,"code":"import AbstractAnonymizationService from '../AbstractAnonymizationService';\nimport AnonymizationAssignment from '../AnonymizationAssignment';\n/**\r\n * Generalizes (e.g. 10 - 20) a given column\r\n */\n\nclass GeneralizationAnonymizationService extends AbstractAnonymizationService {}\n\nGeneralizationAnonymizationService.apply = (assignment, document) => {\n  const options = assignment.options;\n  const stepSize = options['stepSize']; // example: 10 -> 10 - 20\n  // get document column id on which we should work on\n\n  const columnId = AbstractAnonymizationService.getColumnIdByOrderId.call(GeneralizationAnonymizationService, assignment.columnOrderId, document); // Apply on data column\n\n  document.data[columnId].data = document.data[columnId].data.map(cell => {\n    if (Number.isNaN(parseInt(cell))) {\n      return 'NaN';\n    }\n\n    const LowLimit = Math.floor(cell / stepSize);\n    const bucketStart = LowLimit * stepSize;\n    const bucketEnd = bucketStart + parseInt(stepSize);\n    return bucketStart + ' - ' + bucketEnd;\n  });\n};\n\nGeneralizationAnonymizationService.getDescription = options => 'generalized with step size ' + options['stepSize'];\n\nGeneralizationAnonymizationService.getName = () => 'generalization';\n\nexport default GeneralizationAnonymizationService;","map":{"version":3,"sources":["C:/Users/ayesh/Desktop/TUM/semester 3/Final Presentation/dedas-frontend/src/service/Anonymization/AnonymizationImplementation/GeneralizationAnonymizationService.js"],"names":["AbstractAnonymizationService","AnonymizationAssignment","GeneralizationAnonymizationService","apply","assignment","document","options","stepSize","columnId","getColumnIdByOrderId","columnOrderId","data","map","cell","Number","isNaN","parseInt","LowLimit","Math","floor","bucketStart","bucketEnd","getDescription","getName"],"mappings":"AAAA,OAAOA,4BAAP,MAAyC,iCAAzC;AACA,OAAOC,uBAAP,MAAoC,4BAApC;AAEA;;;;AAGA,MAAMC,kCAAN,SAAiDF,4BAAjD,CAA8E;;AAAxEE,kC,CACKC,K,GAAQ,CAACC,UAAD,EAAsCC,QAAtC,KAAyD;AACpE,QAAMC,OAAO,GAAGF,UAAU,CAACE,OAA3B;AACA,QAAMC,QAAQ,GAAGD,OAAO,CAAC,UAAD,CAAxB,CAFoE,CAE9B;AACtC;;AACA,QAAME,QAAQ,GAL2BR,4BAK3B,CAASS,oBAAT,MALhBP,kCAKgB,EAA8BE,UAAU,CAACM,aAAzC,EAAwDL,QAAxD,CAAd,CAJoE,CAKpE;;AACAA,EAAAA,QAAQ,CAACM,IAAT,CAAcH,QAAd,EAAwBG,IAAxB,GAA+BN,QAAQ,CAACM,IAAT,CAAcH,QAAd,EAAwBG,IAAxB,CAA6BC,GAA7B,CAAiCC,IAAI,IAAI;AACpE,QAAIC,MAAM,CAACC,KAAP,CAAaC,QAAQ,CAACH,IAAD,CAArB,CAAJ,EAAkC;AAC9B,aAAO,KAAP;AACH;;AAED,UAAMI,QAAQ,GAAGC,IAAI,CAACC,KAAL,CAAWN,IAAI,GAAGN,QAAlB,CAAjB;AACA,UAAMa,WAAW,GAAGH,QAAQ,GAAGV,QAA/B;AACA,UAAMc,SAAS,GAAID,WAAD,GAAgBJ,QAAQ,CAACT,QAAD,CAA1C;AACA,WAAOa,WAAW,GAAG,KAAd,GAAsBC,SAA7B;AACH,GAT8B,CAA/B;AAUH,C;;AAjBCnB,kC,CAkBKoB,c,GAAkBhB,OAAD,IAAqB,gCAAgCA,OAAO,CAAC,UAAD,C;;AAlBlFJ,kC,CAoBKqB,O,GAAU,MAAc,gB;;AAGnC,eAAerB,kCAAf","sourcesContent":["import AbstractAnonymizationService from '../AbstractAnonymizationService';\r\nimport AnonymizationAssignment from '../AnonymizationAssignment';\r\n\r\n/**\r\n * Generalizes (e.g. 10 - 20) a given column\r\n */\r\nclass GeneralizationAnonymizationService extends AbstractAnonymizationService {\r\n    static apply = (assignment: AnonymizationAssignment, document): void => {\r\n        const options = assignment.options;\r\n        const stepSize = options['stepSize']; // example: 10 -> 10 - 20\r\n        // get document column id on which we should work on\r\n        const columnId = super.getColumnIdByOrderId(assignment.columnOrderId, document);\r\n        // Apply on data column\r\n        document.data[columnId].data = document.data[columnId].data.map(cell => {\r\n            if (Number.isNaN(parseInt(cell))) {\r\n                return 'NaN';\r\n            }\r\n\r\n            const LowLimit = Math.floor(cell / stepSize);\r\n            const bucketStart = LowLimit * stepSize;\r\n            const bucketEnd = (bucketStart) + parseInt(stepSize);\r\n            return bucketStart + ' - ' + bucketEnd;\r\n        });\r\n    };\r\n    static getDescription = (options): String => 'generalized with step size ' + options['stepSize'];\r\n\r\n    static getName = (): String => 'generalization';\r\n}\r\n\r\nexport default GeneralizationAnonymizationService;\r\n"]},"metadata":{},"sourceType":"module"}