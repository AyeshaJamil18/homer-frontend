{"ast":null,"code":"import _objectWithoutProperties from \"C:\\\\Users\\\\ayesh\\\\Desktop\\\\TUM\\\\semester 3\\\\Final Presentation\\\\dedas-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectWithoutProperties\";\nimport _slicedToArray from \"C:\\\\Users\\\\ayesh\\\\Desktop\\\\TUM\\\\semester 3\\\\Final Presentation\\\\dedas-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\ayesh\\\\Desktop\\\\TUM\\\\semester 3\\\\Final Presentation\\\\dedas-frontend\\\\src\\\\layouts\\\\Main\\\\components\\\\Sidebar\\\\components\\\\Profile\\\\Profile.js\";\nimport React, { useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/styles';\nimport { Button, Typography } from '@material-ui/core';\nimport { AuthService, UserService } from '../../../../../../service';\nlet UserName;\nlet Name;\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    minHeight: 'fit-content'\n  },\n  avatar: {\n    width: 60,\n    height: 60\n  },\n  name: {\n    marginTop: theme.spacing(1)\n  },\n  logoutButton: {\n    margin: theme.spacing(2, 0)\n  }\n}));\n\nconst Profile = props => {\n  const _React$useState = React.useState(''),\n        _React$useState2 = _slicedToArray(_React$useState, 2),\n        LoggedInUserName = _React$useState2[0],\n        setLoggedInUserName = _React$useState2[1];\n\n  const _React$useState3 = React.useState(''),\n        _React$useState4 = _slicedToArray(_React$useState3, 2),\n        LoggedInName = _React$useState4[0],\n        setLoggedInName = _React$useState4[1];\n\n  const handlesetLoggedInUserName = () => {\n    setLoggedInUserName(UserName);\n  };\n\n  const handlesetLoggedInName = () => {\n    setLoggedInName(Name);\n  };\n\n  const className = props.className,\n        rest = _objectWithoutProperties(props, [\"className\"]);\n\n  let history = useHistory();\n  const classes = useStyles();\n\n  const LogoutClick = () => {\n    AuthService.logout();\n    history.push({\n      pathname: '/sign-in'\n    });\n  };\n\n  const DisplayUserFullName = () => {\n    return UserService.getCurrentUserData().then(data => {\n      UserName = data.username;\n      Name = data.firstName + ' ' + data.lastName;\n      handlesetLoggedInUserName();\n      handlesetLoggedInName();\n    }).catch(response => {\n      history.push({\n        pathname: '/sign-in'\n      });\n    });\n  };\n\n  useEffect(() => {\n    const fetch = async () => {\n      await DisplayUserFullName();\n    };\n\n    fetch();\n  });\n  return React.createElement(\"div\", Object.assign({}, rest, {\n    className: clsx(classes.root, className),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }), React.createElement(Typography, {\n    className: classes.name,\n    variant: \"h4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, LoggedInName), React.createElement(Typography, {\n    className: classes.name,\n    variant: \"h6\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, LoggedInUserName), React.createElement(Button, {\n    className: classes.logoutButton,\n    color: \"primary\",\n    onClick: LogoutClick,\n    size: \"large\",\n    variant: \"contained\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }, \"Log Out\"));\n};\n\nProfile.propTypes = {\n  className: PropTypes.string\n};\nexport default Profile;","map":{"version":3,"sources":["C:/Users/ayesh/Desktop/TUM/semester 3/Final Presentation/dedas-frontend/src/layouts/Main/components/Sidebar/components/Profile/Profile.js"],"names":["React","useEffect","useHistory","clsx","PropTypes","makeStyles","Button","Typography","AuthService","UserService","UserName","Name","useStyles","theme","root","display","flexDirection","alignItems","minHeight","avatar","width","height","name","marginTop","spacing","logoutButton","margin","Profile","props","useState","LoggedInUserName","setLoggedInUserName","LoggedInName","setLoggedInName","handlesetLoggedInUserName","handlesetLoggedInName","className","rest","history","classes","LogoutClick","logout","push","pathname","DisplayUserFullName","getCurrentUserData","then","data","username","firstName","lastName","catch","response","fetch","propTypes","string"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport clsx from 'clsx';\r\nimport PropTypes from 'prop-types';\r\nimport { makeStyles } from '@material-ui/styles';\r\nimport { Button, Typography } from '@material-ui/core';\r\nimport { AuthService, UserService } from '../../../../../../service';\r\n\r\nlet UserName;\r\nlet Name;\r\n\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        minHeight: 'fit-content'\r\n    },\r\n    avatar: {\r\n        width: 60,\r\n        height: 60\r\n    },\r\n    name: {\r\n        marginTop: theme.spacing(1)\r\n    },\r\n    logoutButton: {\r\n        margin: theme.spacing(2, 0)\r\n    }\r\n}));\r\n\r\nconst Profile = props => {\r\n    const [LoggedInUserName, setLoggedInUserName] = React.useState('');\r\n\r\n    const [LoggedInName, setLoggedInName] = React.useState('');\r\n\r\n    const handlesetLoggedInUserName = () => {\r\n        setLoggedInUserName(UserName);\r\n    };\r\n    const handlesetLoggedInName = () => {\r\n        setLoggedInName(Name);\r\n    };\r\n    const { className, ...rest } = props;\r\n    let history = useHistory();\r\n    const classes = useStyles();\r\n\r\n    const LogoutClick = () => {\r\n        AuthService.logout();\r\n        history.push({\r\n            pathname: '/sign-in'\r\n        });\r\n    };\r\n\r\n\r\n    const DisplayUserFullName = () => {\r\n        return UserService.getCurrentUserData().then(data => {\r\n\r\n            UserName = data.username;\r\n            Name = data.firstName + ' ' + data.lastName;\r\n            handlesetLoggedInUserName();\r\n            handlesetLoggedInName();\r\n\r\n        }).catch(response => {\r\n\r\n            history.push({\r\n                pathname: '/sign-in'\r\n            });\r\n        })\r\n    };\r\n\r\n\r\n    useEffect( () => {\r\n        const fetch = async () => {\r\n            await DisplayUserFullName();\r\n        }\r\n\r\n        fetch();\r\n    });\r\n\r\n    return <div\r\n        {...rest}\r\n        className={clsx(classes.root, className)}\r\n           >\r\n\r\n        <Typography\r\n            className={classes.name}\r\n            variant=\"h4\"\r\n        >\r\n            {LoggedInName}\r\n\r\n        </Typography>\r\n        <Typography\r\n            className={classes.name}\r\n            variant=\"h6\"\r\n        >\r\n            {LoggedInUserName}\r\n        </Typography>\r\n\r\n        <Button\r\n            className={classes.logoutButton}\r\n            color=\"primary\"\r\n            onClick={LogoutClick}\r\n            size=\"large\"\r\n            variant=\"contained\"\r\n        >\r\n            Log Out\r\n        </Button>\r\n\r\n    </div>;\r\n};\r\n\r\nProfile.propTypes = {\r\n    className: PropTypes.string\r\n};\r\n\r\nexport default Profile;\r\n"]},"metadata":{},"sourceType":"module"}